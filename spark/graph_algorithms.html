<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Predicting Communities via Graph Algorithms - Tushar Chandra
    </title>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  
  <meta name="theme-color" content="#000000" />
  <meta http-equiv="window-target" content="_top" /><meta name="description" content="Speaker: Amy Holder and Soren Reichardt (Neo4j).
" />
  <meta name="generator" content="Hugo 0.70.0" />
  <title>Predicting Communities via Graph Algorithms - Tushar Chandra</title>

  
  
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">

  <meta property="og:title" content="Predicting Communities via Graph Algorithms" />
<meta property="og:description" content="Speaker: Amy Holder and Soren Reichardt (Neo4j)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/spark/graph_algorithms.html" />
<meta property="article:published_time" content="2019-04-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-04-24T00:00:00+00:00" />
<meta itemprop="name" content="Predicting Communities via Graph Algorithms">
<meta itemprop="description" content="Speaker: Amy Holder and Soren Reichardt (Neo4j).">
<meta itemprop="datePublished" content="2019-04-24T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-04-24T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1147">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Predicting Communities via Graph Algorithms"/>
<meta name="twitter:description" content="Speaker: Amy Holder and Soren Reichardt (Neo4j)."/>
</head>
</head>



<body class="h-screen flex flex-col justify-between" itemscope itemtype="http://schema.org/WebPage"><header class="w-screen bg-green-500" itemscope itemtype="http://schema.org/WPHeader">
  <div class="flex max-w-8xl container mx-auto">
    <div class="hidden sm:inline flex items-center">
      <a href="/">
        <img class="rounded-full m-1 md:m-4" src="/headshot.jpg" width="100" height="100">
      </a>
    </div>
    <div class="w-full px-4 flex flex-col lg:flex-row justify-between lg:items-center my-4">
      <div class="xl:flex-grow">
        <a href="/">
          <span class="text-lg sm:text-2xl md:text-3xl font-semibold">Tushar Chandra</span>
          <span class="hidden pl-4 lg:inline"><br></span>
          <span class="text-sm md:text-xl font-thin pl-4 md:pl-0 lg:text-xl">Data Scientist / Chicago, IL
          </span>
        </a>
      </div>
      <nav class="" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="flex lg:justify-between">
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/about">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-mug-hot"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">About</span>
              </a>
            </p>
          </li>
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/resume">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-file"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">Resume</span>
              </a>
            </p>
          </li>
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/reading">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-book-open"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">Reading</span>
              </a>
            </p>
          </li>
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/categories.html">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-folder-open"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">Categories</span>
              </a>
            </p>
          </li>
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/posts.html">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-archive"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">Archives</span>
              </a>
            </p>
          </li>

        </ul>

      </nav>
    </div>

  </div>
</header>
  <div class="container mx-auto max-w-8xl px-4 flex flex-row flex-grow">
    <div class="w-full md:w-3/4">
      
<main class="main" role="main"><div class="content container mx-auto max-w-6xl">
  <article id="-" class="" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="pt-4">
      <span class="font-semibold text-3xl"><h1 itemprop="name">
  <a class="" href="/spark/graph_algorithms.html">Predicting Communities via Graph Algorithms</a>
</h1>
      </span>
      <div class="pb-4"><i class="fas fa-calendar-check text-gray-500 pr-1"></i>
<time datetime="2019-04-24 00:00:00 &#43;0000 UTC" class="text-sm text-gray-600"
  itemprop="datePublished">2019-04-24</time>
<span class="text-sm text-gray-600" itemprop="wordCount">
	<i class="fas fa-pencil-alt text-gray-500 pl-4 pr-2"></i>1147 words
</span><i class="fas fa-folder-open text-gray-500 pl-4 pr-1"></i>
<a class="text-sm text-gray-600" href=" /categories/spark.html"> spark, </a>

      </div>
    </div>
    <div class="rich-text" itemprop="articleBody">
      <p>Speaker: Amy Holder and Soren Reichardt (Neo4j).</p>
<h2 id="intro">Intro</h2>
<p>Graphs are everywhere; anything with connections can be represented as a graph. And for them, graphs drive innovation. One of the questions they get is &ldquo;is this a graph analytics problem?&rdquo;</p>
<ul>
<li><strong>propogation pathways</strong>, diseases, traffic, etc.</li>
<li><strong>flow &amp; dynamics</strong>, what happens when I constrain my network, do things flow in a different way, like with routing</li>
<li><strong>interactions and resiliency</strong>, community detection, influence within communities, understanding how things may break apart or become more cohesive</li>
</ul>
<p>All require you to understand the structure of your data.</p>
<h2 id="real-world-data">Real-World Data</h2>
<p>If you assume that most nodes have the same number of relationships, then you would have a Gaussian distributions of relationships &hellip; but network science tells us that this doesn&rsquo;t happen in nature.</p>
<p>Instead, number relationships and nodes follows a quasi-power law distribtuion.</p>
<pre><code>number of relationships
| *
| **
| **
| ****
| ************
|________________
 number of nodes
</code></pre><h2 id="graph-algorithms">Graph algorithms</h2>
<p>You could either <strong>query</strong> the graph for real-time, local decisioning and pattern matching. Or use <strong>graph algorithms</strong> for global analysis, learning the overall structure of a network an dmaking predictions.</p>
<p>Common graph algorithms include:</p>
<ul>
<li>pathfinding / search</li>
<li>basic stats</li>
<li>decomposition, covering, coloring</li>
<li>network flow</li>
<li>centrality or importance</li>
<li>community detection</li>
</ul>
<p>Uncommon ones include:</p>
<ul>
<li>similarity</li>
<li>link prediction</li>
<li>ML workflow (@DSS)</li>
<li>many others &hellip;</li>
</ul>
<p><strong>Spark 3.0</strong> is going to have &ldquo;property graph model&rdquo; with Cypher queries and graph algorithms. Unclear what all this means tbh. Meanwhile, Neo4j is a native graph platform.</p>
<h2 id="demo">Demo</h2>
<p>They&rsquo;re gonna use a Game of Thrones script dataset, making a graph based on how close names are to each other within the script. Tools include Spark GraphFrames (which will be deprecated in favor of Cypher in 3.0) and the Neo4j platform.</p>
<h3 id="triangles-and-the-clustering-coefficient">Triangles and the clustering coefficient</h3>
<p>Use these tools for:</p>
<ul>
<li>basic network analysis (does it have small-world structures)</li>
<li>estimating stability</li>
<li>finding structural holes</li>
<li>scoring for other analyses</li>
</ul>
<p>An example is spam classification; using a semi-streaming webpage analysis, you can look at if webpages are linked to others or just sitting by themselves. The clustering coefficient is the <strong>measure of how much nodes tend to cluster together</strong>.</p>
<p>The demo showed off generating the degree of the different characters and the clustering coefficient. Some of them have a high degree (many connections) but low clustering coefficient (but their connections aren&rsquo;t very conneted to each ohter), and others have the opposite.</p>
<h3 id="closeness-centrality">Closeness centrality</h3>
<p>Use when you&rsquo;re finding which nodes disseminate things the fastest. Weighted relationships are helpful in evaluating interaction speeds in communication and behavioral analysis. This can be used as a heuristic for logistics or arrival times; another example is terrorist network analysis, where they ask &ldquo;who in this network could acquire the most vital information?&rdquo;</p>
<p>Looks at <strong>which nodes have the smallest distance to all other nodes</strong>. &ldquo;Which node can most easily reach the others?&rdquo;</p>
<p>Demo: the Spark version doesn&rsquo;t run on his computer because of all the UDFs &hellip; then talked about <strong>aggregate messages</strong>, which for every vertex computes something and sends it to the neighbors. This &hellip; didn&rsquo;t make a ton of sense.</p>
<h3 id="pagerank">PageRank</h3>
<p>Use when you&rsquo;re looking for <strong>broad influence over a network</strong>. There are <em>tons</em> of domain specific variations of this, e.g., personalized recommendations. Exampes include recommendations on Twitter (who to follow) or fraud detection (super interesting but unclear how).</p>
<p>Measures the transitive influence of nodes, considering the influence of neighbors and their neighbors. People acquire credibility and influence from others with credibility and influence. You gotta be careful with node types here, because this compares node types to each other; you can&rsquo;t use this on a graph of e.g., products and humans (unless you&rsquo;re interested in open research questions).</p>
<p>Demo: was a one-liner in the GraphFrames API. Not interesting, but showed off who the most &ldquo;influential&rdquo; characters within GoT are.</p>
<p>###Betweenness Centrality</p>
<p>Use for:</p>
<ul>
<li>identifying bridges</li>
<li>uncovering control points</li>
<li>finding bottlenecks or vulnerabilities within your network</li>
</ul>
<p>Study that looked at network resilience in Italy, looking for the key points of cascading failure. They actually learned that they should <em>remove</em> some nodes to increase reliability.</p>
<p>Betweenness centrality is the sum of the % of the shortest paths that pass through a node, intuitively looking for bridges within a graph. Computationally intensive, but has approximation algorithms.</p>
<p>This demo showed off Neo4j Desktop, where they used their GUI to show that Joffrey was the most important node … apparently many important conversations flow through him. ¯\_(ツ)_/¯</p>
<h3 id="label-propogation">Label propogation</h3>
<p>Use for getting started analysing a graph, like:</p>
<ul>
<li>large scale networks with initial clustering</li>
<li>preprocessing data (initial classification)</li>
<li>where groups are less clear but weights can be used</li>
</ul>
<p>Interesting example uses graphs and label propagation to look at drug combinations to see if they might be dangerous; they use chemical similarity and side effects to see what drugs should not be prescribed together.</p>
<p>Nodes adapt labels based on neighbors to infer clusters; weight relationships or nodes. This is non-deterministic, and seed labels are very powerful and can propogate through a network. That means this can be used as a semi-supervised learning technique.</p>
<p>The demo used Spark again, and assigned random labels and watched them propogate. They say that this loosely matched the houses in GoT, which … okay. Then they went into Neo4j and looked at the clusters visually - that was awesome, showed one cluster that&rsquo;s super disconnected because they&rsquo;re an island, one cluster that&rsquo;s King&rsquo;s Landing (?) and man I know nothing about GoT.</p>
<h3 id="louvain-modularity">Louvain Modularity</h3>
<p>Use for:</p>
<ul>
<li>community detection in large networks</li>
<li>uncovering hierarchical structures</li>
<li>evaluating different grouping thresholds</li>
</ul>
<p>This continually maximizes the modularity (optimal grouping) by comparing relationship weights and densities to an estimate. What? The algorithm is trying to find an optimal grouping of nodes; intuitively like a what-if analysis, like if I move this node to that group what happens, repeat. But <em>then</em> it groups those into supergroupings and repeats that to smash groups together.</p>
<p>It helps you when the question is &ldquo;how far out do I want to go,&rdquo; like going to just close communities or ones that are further or very far or whatever … interesting. The demo showed, for each character, 3 levels of communities; the first one had the most granular communities, then some of them got absorbed, then even more others got absorbed.</p>
<h2 id="resources">Resources</h2>
<p>Dataset collections:</p>
<ul>
<li>Stanford network analysis project (SNAP)</li>
<li>Colorado Index of Complex Networks (ICON)</li>
<li>Koblenz Network Collection (KONECT)</li>
<li>Girvan-Newman (random, reference dataset for testing)</li>
</ul>
<p>Question: how do you take advantage of local processing e.g., in networkx. Do that for starting out, and switch to a more enterprise platform (Spark, Neo4j) when you need to. Those can help by providing approximation algorithms too.</p>
<p>Question: with Spark 3.0 and Cypher coming in, will you have access to the machine learning algorithms within Cypher as well? Not sure, but Databricks is planning on having the API have parity with the GraphFrames API.</p>
      <p><i class="fas fa-square font-green-800"></i></p>
    </div>
    <div class="font-semibold text-green-800 pt-4">
      <a href="/"><i class="fas fa-arrow-left"></i> Return home</a>
    </div>
  </article>
</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="/spark/smart_join.html" title="Smart Join Algorithms for Fighting Skew at Scale"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;</span></a>
            </li>
            <li class="next">
                <a href="/spark/fraud_fighting.html"
                    title="Moving a Fraud-Fighting Random Forest from sklearn to Spark with ML, MLflow, and Jupyter"><span>&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
        </ul>
    </div>
</nav>

</main>
    </div>
    <div class="hidden w-0 md:block md:w-1/4 md:pt-8 md:pl-12"><aside class="" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="pb-8">
    <h3 class="font-semibold text-xl">Categories</h3>
    <ul class="">
        <li class="">+ <a href="/categories/books.html" class="font-bold text-green-900">books
            </a><span class="">11</span>
        </li>
        <li class="">+ <a href="/categories/chi2020.html" class="font-bold text-green-900">chi2020
            </a><span class="">19</span>
        </li>
        <li class="">+ <a href="/categories/general.html" class="font-bold text-green-900">general
            </a><span class="">34</span>
        </li>
        <li class="">+ <a href="/categories/papers.html" class="font-bold text-green-900">papers
            </a><span class="">46</span>
        </li>
        <li class="">+ <a href="/categories/projects.html" class="font-bold text-green-900">projects
            </a><span class="">7</span>
        </li>
        <li class="">+ <a href="/categories/self.html" class="font-bold text-green-900">self
            </a><span class="">3</span>
        </li>
        <li class="">+ <a href="/categories/spark.html" class="font-bold text-green-900">spark
            </a><span class="">34</span>
        </li>
        <li class="">+ <a href="/categories/what-i-read.html" class="font-bold text-green-900">what-i-read
            </a><span class="">32</span>
        </li>
    </ul>
</div>
<div class="pb-12">
    <h3 class="font-semibold text-xl">Recent Posts</h3>
    <ul class="recent-post-list list-unstyled no-thumbnail">
        <li class="pb-4">
            <p>
                <a href="/what_i_read/20200718.html" class="font-bold text-green-900">What I read this week (July 12 - July 18)</a>
                <time datetime="2020-07-18 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-18
                </time>
            </p>

        </li>
        <li class="pb-4">
            <p>
                <a href="/books/twenty_six_words_4.html" class="font-bold text-green-900">The future of Section 230</a>
                <time datetime="2020-07-17 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-17
                </time>
            </p>

        </li>
        <li class="pb-4">
            <p>
                <a href="/books/twenty_six_words_3.html" class="font-bold text-green-900">Internet Exceptionalism</a>
                <time datetime="2020-07-16 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-16
                </time>
            </p>

        </li>
        <li class="pb-4">
            <p>
                <a href="/what_i_read/20200711.html" class="font-bold text-green-900">What I read this week (July 5 - July 11)</a>
                <time datetime="2020-07-11 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-11
                </time>
            </p>

        </li>
        <li class="pb-4">
            <p>
                <a href="/what_i_read/20200704.html" class="font-bold text-green-900">What I read this week (June 28 - July 4)</a>
                <time datetime="2020-07-04 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-04
                </time>
            </p>

        </li>
    </ul>
</div>
</aside><footer class="" itemscope itemtype="http://schema.org/WPFooter">
  <div class="py-4 text-sm">
    &copy; 2019 - 2020 Tushar Chandra
    <p style="margin-bottom: 4px">All opinions are my own.</p>
    <div class="publishby">Powered by Hugo with a custom theme.</div>
  </div>
  <ul class="">
    <li class="inline text-xl pr-4">
      <a href="https://github.com/tuchandra" target="_blank" title="github">
        <i class="fab fa-github"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="https://www.linkedin.com/in/tushar-chandra-76a623b6/" target="_blank" title="linkedin">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="mailto:me@tusharc.dev" target="_blank" title="envelope">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="/index.xml" target="_blank" title="rss">
        <i class="fas fa-rss"></i>
      </a>
    </li>

  </ul>
</footer>
    </div>
  </div>
  <div class="mx-auto w-screen px-4 bg-green-500 mt-4 md:py-8">
    <div class="md:invisible md:hidden max-w-8xl"><footer class="" itemscope itemtype="http://schema.org/WPFooter">
  <div class="py-4 text-sm">
    &copy; 2019 - 2020 Tushar Chandra
    <p style="margin-bottom: 4px">All opinions are my own.</p>
    <div class="publishby">Powered by Hugo with a custom theme.</div>
  </div>
  <ul class="">
    <li class="inline text-xl pr-4">
      <a href="https://github.com/tuchandra" target="_blank" title="github">
        <i class="fab fa-github"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="https://www.linkedin.com/in/tushar-chandra-76a623b6/" target="_blank" title="linkedin">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="mailto:me@tusharc.dev" target="_blank" title="envelope">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="/index.xml" target="_blank" title="rss">
        <i class="fas fa-rss"></i>
      </a>
    </li>

  </ul>
</footer>
    </div>
  </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js"></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>


<script data-goatcounter="https://tusharc.goatcounter.com/count" async src="//gc.zgo.at/count.js">
</script>
</body>

</html>