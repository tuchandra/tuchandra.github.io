<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        Predicting Communities via Graph Algorithms - Tushar Chandra
      </title>
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  
  <meta name="theme-color" content="#000000" />
  <meta http-equiv="window-target" content="_top" />
  
  <meta name="description" content="Speaker: Amy Holder and Soren Reichardt (Neo4j).
" />
  <meta name="generator" content="Hugo 0.62.0 with theme pure" />
  <title>Predicting Communities via Graph Algorithms - Tushar Chandra</title>
  

  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
  <meta property="og:title" content="Predicting Communities via Graph Algorithms" />
<meta property="og:description" content="Speaker: Amy Holder and Soren Reichardt (Neo4j)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/spark/graph_algorithms.html" />
<meta property="article:published_time" content="2019-04-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-04-24T00:00:00+00:00" />
<meta itemprop="name" content="Predicting Communities via Graph Algorithms">
<meta itemprop="description" content="Speaker: Amy Holder and Soren Reichardt (Neo4j).">
<meta itemprop="datePublished" content="2019-04-24T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-04-24T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1147">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Predicting Communities via Graph Algorithms"/>
<meta name="twitter:description" content="Speaker: Amy Holder and Soren Reichardt (Neo4j)."/>
</head>
  </head>
  

  <body class="main-center theme-blue" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar">
            <img class="img-circle" src="/headshot.jpg" width="300" height="300">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm"><b>Tushar Chandra</b></h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">Data Scientist</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Chicago, IL</small>
        </div>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/about">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
            <li class="menu-item menu-item-resume">
                <a href="/resume">
                    <i class="icon icon-file"></i>
                  <span class="menu-title">Resume</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/categories.html">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/posts.html">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <div class="widget">
    <h3 class="widget-title"> Categories</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="/categories/about.html" class="category-list-link">about</a><span class="category-list-count">2</span></li>
            <li class="category-list-item"><a href="/categories/general.html" class="category-list-link">general</a><span class="category-list-count">13</span></li>
            <li class="category-list-item"><a href="/categories/papers.html" class="category-list-link">papers</a><span class="category-list-count">11</span></li>
            <li class="category-list-item"><a href="/categories/spark.html" class="category-list-link">spark</a><span class="category-list-count">13</span></li>
            <li class="category-list-item"><a href="/categories/what-i-read.html" class="category-list-link">what-i-read</a><span class="category-list-count">4</span></li>
        </ul>
    </div>
</div>
<div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/papers/discrimination_algorithms_kleinberg_2.html" class="title">Paper: Discrimination in the Age of Algorithms (2/2)</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2019-12-30 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-12-30</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/papers/discrimination_algorithms_kleinberg_1.html" class="title">Paper: Discrimination in the Age of Algorithms (1/2)</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2019-12-29 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-12-29</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/posts/talk_aguera_neurips.html" class="title">Blaise Aguera y Arcas: Social Intelligence (NeurIPS 2019)</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2019-12-28 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-12-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/what_i_read/20191228.html" class="title">What I read this week (December 22 - 28)</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2019-12-28 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-12-28</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/posts/talk_kidd_neurips.html" class="title">Celeste Kidd: How to Know (NeurIPS 2019)</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2019-12-27 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-12-27</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/spark/graph_algorithms.html"
    >Predicting Communities via Graph Algorithms</a
  >
</h1>

      <div class="article-meta">
        <span class="article-date">
  <i class="icon icon-calendar-check"></i>
<a href="/spark/graph_algorithms.html" class="article-date">
  <time datetime="2019-04-24 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-04-24</time>
</a>
</span><span class="article-category">
  <i class="icon icon-folder"></i>
  <a class="article-category-link" href="/categories/spark.html"> spark </a>
</span>

        
      </div>
    </div>
    <div class="article-entry marked-body js-toc-content" itemprop="articleBody">
      <p>Speaker: Amy Holder and Soren Reichardt (Neo4j).</p>
<h2 id="intro">Intro</h2>
<p>Graphs are everywhere; anything with connections can be represented as a graph. And for them, graphs drive innovation. One of the questions they get is &ldquo;is this a graph analytics problem?&rdquo;</p>
<ul>
<li><strong>propogation pathways</strong>, diseases, traffic, etc.</li>
<li><strong>flow &amp; dynamics</strong>, what happens when I constrain my network, do things flow in a different way, like with routing</li>
<li><strong>interactions and resiliency</strong>, community detection, influence within communities, understanding how things may break apart or become more cohesive</li>
</ul>
<p>All require you to understand the structure of your data.</p>
<h2 id="real-world-data">Real-World Data</h2>
<p>If you assume that most nodes have the same number of relationships, then you would have a Gaussian distributions of relationships &hellip; but network science tells us that this doesn't happen in nature.</p>
<p>Instead, number relationships and nodes follows a quasi-power law distribtuion.</p>
<pre><code>number of relationships
| *
| **
| **
| ****
| ************
|________________
 number of nodes
</code></pre><h2 id="graph-algorithms">Graph algorithms</h2>
<p>You could either <strong>query</strong> the graph for real-time, local decisioning and pattern matching. Or use <strong>graph algorithms</strong> for global analysis, learning the overall structure of a network an dmaking predictions.</p>
<p>Common graph algorithms include:</p>
<ul>
<li>pathfinding / search</li>
<li>basic stats</li>
<li>decomposition, covering, coloring</li>
<li>network flow</li>
<li>centrality or importance</li>
<li>community detection</li>
</ul>
<p>Uncommon ones include:</p>
<ul>
<li>similarity</li>
<li>link prediction</li>
<li>ML workflow (@DSS)</li>
<li>many others &hellip;</li>
</ul>
<p><strong>Spark 3.0</strong> is going to have &ldquo;property graph model&rdquo; with Cypher queries and graph algorithms. Unclear what all this means tbh. Meanwhile, Neo4j is a native graph platform.</p>
<h2 id="demo">Demo</h2>
<p>They're gonna use a Game of Thrones script dataset, making a graph based on how close names are to each other within the script. Tools include Spark GraphFrames (which will be deprecated in favor of Cypher in 3.0) and the Neo4j platform.</p>
<h3 id="triangles-and-the-clustering-coefficient">Triangles and the clustering coefficient</h3>
<p>Use these tools for:</p>
<ul>
<li>basic network analysis (does it have small-world structures)</li>
<li>estimating stability</li>
<li>finding structural holes</li>
<li>scoring for other analyses</li>
</ul>
<p>An example is spam classification; using a semi-streaming webpage analysis, you can look at if webpages are linked to others or just sitting by themselves. The clustering coefficient is the <strong>measure of how much nodes tend to cluster together</strong>.</p>
<p>The demo showed off generating the degree of the different characters and the clustering coefficient. Some of them have a high degree (many connections) but low clustering coefficient (but their connections aren't very conneted to each ohter), and others have the opposite.</p>
<h3 id="closeness-centrality">Closeness centrality</h3>
<p>Use when you're finding which nodes disseminate things the fastest. Weighted relationships are helpful in evaluating interaction speeds in communication and behavioral analysis. This can be used as a heuristic for logistics or arrival times; another example is terrorist network analysis, where they ask &ldquo;who in this network could acquire the most vital information?&rdquo;</p>
<p>Looks at <strong>which nodes have the smallest distance to all other nodes</strong>. &ldquo;Which node can most easily reach the others?&rdquo;</p>
<p>Demo: the Spark version doesn't run on his computer because of all the UDFs &hellip; then talked about <strong>aggregate messages</strong>, which for every vertex computes something and sends it to the neighbors. This &hellip; didn't make a ton of sense.</p>
<h3 id="pagerank">PageRank</h3>
<p>Use when you're looking for <strong>broad influence over a network</strong>. There are <em>tons</em> of domain specific variations of this, e.g., personalized recommendations. Exampes include recommendations on Twitter (who to follow) or fraud detection (super interesting but unclear how).</p>
<p>Measures the transitive influence of nodes, considering the influence of neighbors and their neighbors. People acquire credibility and influence from others with credibility and influence. You gotta be careful with node types here, because this compares node types to each other; you can't use this on a graph of e.g., products and humans (unless you're interested in open research questions).</p>
<p>Demo: was a one-liner in the GraphFrames API. Not interesting, but showed off who the most &ldquo;influential&rdquo; characters within GoT are.</p>
<p>###Betweenness Centrality</p>
<p>Use for:</p>
<ul>
<li>identifying bridges</li>
<li>uncovering control points</li>
<li>finding bottlenecks or vulnerabilities within your network</li>
</ul>
<p>Study that looked at network resilience in Italy, looking for the key points of cascading failure. They actually learned that they should <em>remove</em> some nodes to increase reliability.</p>
<p>Betweenness centrality is the sum of the % of the shortest paths that pass through a node, intuitively looking for bridges within a graph. Computationally intensive, but has approximation algorithms.</p>
<p>This demo showed off Neo4j Desktop, where they used their GUI to show that Joffrey was the most important node … apparently many important conversations flow through him. ¯\_(ツ)_/¯</p>
<h3 id="label-propogation">Label propogation</h3>
<p>Use for getting started analysing a graph, like:</p>
<ul>
<li>large scale networks with initial clustering</li>
<li>preprocessing data (initial classification)</li>
<li>where groups are less clear but weights can be used</li>
</ul>
<p>Interesting example uses graphs and label propagation to look at drug combinations to see if they might be dangerous; they use chemical similarity and side effects to see what drugs should not be prescribed together.</p>
<p>Nodes adapt labels based on neighbors to infer clusters; weight relationships or nodes. This is non-deterministic, and seed labels are very powerful and can propogate through a network. That means this can be used as a semi-supervised learning technique.</p>
<p>The demo used Spark again, and assigned random labels and watched them propogate. They say that this loosely matched the houses in GoT, which … okay. Then they went into Neo4j and looked at the clusters visually - that was awesome, showed one cluster that's super disconnected because they're an island, one cluster that's King's Landing (?) and man I know nothing about GoT.</p>
<h3 id="louvain-modularity">Louvain Modularity</h3>
<p>Use for:</p>
<ul>
<li>community detection in large networks</li>
<li>uncovering hierarchical structures</li>
<li>evaluating different grouping thresholds</li>
</ul>
<p>This continually maximizes the modularity (optimal grouping) by comparing relationship weights and densities to an estimate. What? The algorithm is trying to find an optimal grouping of nodes; intuitively like a what-if analysis, like if I move this node to that group what happens, repeat. But <em>then</em> it groups those into supergroupings and repeats that to smash groups together.</p>
<p>It helps you when the question is &ldquo;how far out do I want to go,&rdquo; like going to just close communities or ones that are further or very far or whatever … interesting. The demo showed, for each character, 3 levels of communities; the first one had the most granular communities, then some of them got absorbed, then even more others got absorbed.</p>
<h2 id="resources">Resources</h2>
<p>Dataset collections:</p>
<ul>
<li>Stanford network analysis project (SNAP)</li>
<li>Colorado Index of Complex Networks (ICON)</li>
<li>Koblenz Network Collection (KONECT)</li>
<li>Girvan-Newman (random, reference dataset for testing)</li>
</ul>
<p>Question: how do you take advantage of local processing e.g., in networkx. Do that for starting out, and switch to a more enterprise platform (Spark, Neo4j) when you need to. Those can help by providing approximation algorithms too.</p>
<p>Question: with Spark 3.0 and Cypher coming in, will you have access to the machine learning algorithms within Cypher as well? Not sure, but Databricks is planning on having the API have parity with the GraphFrames API.</p>
    </div>
    <div class="article-footer">
    </div>
  </article>
</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="/spark/smart_join.html" title="Smart Join Algorithms for Fighting Skew at Scale"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;Older</span></a>
            </li>
            <li class="next">
                <a href="/spark/fraud_fighting.html"
                    title="Moving a Fraud-Fighting Random Forest from sklearn to Spark with ML, MLflow, and Jupyter"><span>Newer&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
        </ul>
    </div>
</nav>


</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/tuchandra" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://www.linkedin.com/in/tushar-chandra-76a623b6/" target="_blank" title="linkedin" data-toggle=tooltip data-placement=top >
            <i class="icon icon-linkedin"></i></a></li>
    <li><a href="/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    &copy; 2019 - 2020 Tushar Chandra
    <div class="publishby">
        Theme: <a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank">Hugo Pure</a>.
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js"></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>

  </body>
</html>
