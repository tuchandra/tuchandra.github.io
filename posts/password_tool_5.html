<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        PMD password tool: making it all work - Tushar Chandra
      </title>
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  
  <meta name="theme-color" content="#000000" />
  <meta http-equiv="window-target" content="_top" />
  
  <meta name="description" content="After clearing up unexpected challenges and removing roadblocks, all that was left was to build. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool works, which is huge! This post reflects on the last few steps of the process.
" />
  <meta name="generator" content="Hugo 0.65.3 with theme pure" />
  <title>PMD password tool: making it all work - Tushar Chandra</title>
  

  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
  <meta property="og:title" content="PMD password tool: making it all work" />
<meta property="og:description" content="After clearing up unexpected challenges and removing roadblocks, all that was left was to build. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool works, which is huge! This post reflects on the last few steps of the process." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/password_tool_5.html" />
<meta property="article:published_time" content="2020-05-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-23T00:00:00+00:00" />
<meta itemprop="name" content="PMD password tool: making it all work">
<meta itemprop="description" content="After clearing up unexpected challenges and removing roadblocks, all that was left was to build. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool works, which is huge! This post reflects on the last few steps of the process.">
<meta itemprop="datePublished" content="2020-05-23T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-05-23T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="964">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="PMD password tool: making it all work"/>
<meta name="twitter:description" content="After clearing up unexpected challenges and removing roadblocks, all that was left was to build. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool works, which is huge! This post reflects on the last few steps of the process."/>
</head>
  </head>
  

  <body class="main-center theme-blue" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-169859131-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-169859131-1');
    </script>

    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="/">
            <img class="img-circle" src="/headshot.jpg" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm"><b>Tushar Chandra</b></h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">Data Scientist</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Chicago, IL</small>
        </div>

        
        <nav id="mobile-navbar" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
          <ul class="mobile-nav">
              <a href="/">
                <li class="menu-item-home">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title"><br>Home</span>
                </li>
              </a>
              <a href="/about">
                <li class="menu-item-about">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title"><br>About</span>
                </li>
              </a>
              <a href="/resume">
                <li class="menu-item-resume">
                    <i class="icon icon-file"></i>
                  <span class="menu-title"><br>Resume</span>
                </li>
              </a>
              <a href="/reading">
                <li class="menu-item-reading">
                    <i class="icon icon-shu-fill"></i>
                  <span class="menu-title"><br>Reading</span>
                </li>
              </a>
              <a href="/categories.html">
                <li class="menu-item-categories">
                    <i class="icon icon-folder-open"></i>
                  <span class="menu-title"><br>Categories</span>
                </li>
              </a>
              <a href="/posts.html">
                <li class="menu-item-archives">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title"><br>Archives</span>
                </li>
              </a>

          </ul>
        </nav>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/about">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
            <li class="menu-item menu-item-resume">
                <a href="/resume">
                    <i class="icon icon-file"></i>
                  <span class="menu-title">Resume</span>
                </a>
            </li>
            <li class="menu-item menu-item-reading">
                <a href="/reading">
                    <i class="icon icon-shu-fill"></i>
                  <span class="menu-title">Reading</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/categories.html">
                    <i class="icon icon-folder-open"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/posts.html">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>

        </ul>
      </nav>
    </div>
  </header>
<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <div class="widget">
    <h3 class="widget-title"> Categories</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="/categories/books.html" class="category-list-link">books</a><span class="category-list-count">6</span></li>
            <li class="category-list-item"><a href="/categories/chi2020.html" class="category-list-link">chi2020</a><span class="category-list-count">19</span></li>
            <li class="category-list-item"><a href="/categories/general.html" class="category-list-link">general</a><span class="category-list-count">32</span></li>
            <li class="category-list-item"><a href="/categories/papers.html" class="category-list-link">papers</a><span class="category-list-count">46</span></li>
            <li class="category-list-item"><a href="/categories/posts.html" class="category-list-link">posts</a><span class="category-list-count">1</span></li>
            <li class="category-list-item"><a href="/categories/projects.html" class="category-list-link">projects</a><span class="category-list-count">7</span></li>
            <li class="category-list-item"><a href="/categories/self.html" class="category-list-link">self</a><span class="category-list-count">3</span></li>
            <li class="category-list-item"><a href="/categories/spark.html" class="category-list-link">spark</a><span class="category-list-count">18</span></li>
            <li class="category-list-item"><a href="/categories/what-i-read.html" class="category-list-link">what-i-read</a><span class="category-list-count">28</span></li>
        </ul>
    </div>
</div>
<div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/spark/2020/how_not_to_scale_deep_learning.html" class="title">How (not) to scale deep learning in 6 easy steps</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-06-24 14:00:00 -0500 CDT" itemprop="datePublished">2020-06-24</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/spark/2020/productionalizing_models_mlflow.html" class="title">Productionalizing Models through CI/CD Design with MLflow</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-06-24 13:30:00 -0500 CDT" itemprop="datePublished">2020-06-24</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/spark/2020/portable_scalable_data_viz.html" class="title">Portable Scalable Data Visualization Techniques for Apache Spark and Python Notebook-based Analytics</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-06-24 13:00:00 -0500 CDT" itemprop="datePublished">2020-06-24</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/spark/2020/wednesday_morning_keynotes.html" class="title">Notes from the Wednesday morning Spark keynotes</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-06-24 12:00:00 -0500 CDT" itemprop="datePublished">2020-06-24</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="/papers/measuring_user_influence_twitter_cha.html" class="title">[Paper] Measuring User Influence on Twitter: The Million Follower Fallacy</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-06-22 00:00:00 -0500 CDT" itemprop="datePublished">2020-06-22</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class=""
    href="/posts/password_tool_5.html"
    >PMD password tool: making it all work</a
  >
</h1>

      <div class="article-meta">
        <span class="article-date">
  <i class="icon icon-calendar-check"></i>
<a href="/posts/password_tool_5.html">
  <time datetime="2020-05-23 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-05-23</time>
</a>
</span><span class="article-category">
  <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/projects.html"> projects, </a>
</span>

        
      </div>
    </div>
    <div class="article-entry marked-body js-toc-content" itemprop="articleBody">
      <p>After clearing up unexpected challenges and removing roadblocks, all that was left was to <em>build</em>. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool <em>works</em>, which is huge! This post reflects on the last few steps of the process.</p>
<h2 id="simplifying-the-ui">Simplifying the UI</h2>
<p>The second part of the app, which generates a custom mission for you, was the most challenging for me. I was struggling to create an interface that displayed all of the different things that made up a mission:</p>
<ul>
<li>the dungeon</li>
<li>the floor</li>
<li>the team name</li>
<li>the species of Pokemon that fainted, and its gender</li>
<li>the reward type (&ldquo;regular&rdquo;, &ldquo;special&rdquo;, or &ldquo;deluxe&rdquo;)</li>
<li>the timestamp</li>
<li>a couple other flags that&mdash;legitimately&mdash;no one understands</li>
</ul>
<p>I eventually realized that the only features that really mattered were the dungeon and floor. Everything else was cosmetic&mdash;the Pokemon you were rescuing and team name for the rescue didn&rsquo;t change the mechanics of the mission. The Deluxe rewards were a superset of the other two rewards, so there&rsquo;s no reason anyone would want Regular or Special.</p>
<p>I decided to simplify things by only having users select the dungeon and floor, and making the team name optional. The Pokemon will be selected randomly, and the mission will always give a Deluxe reward. The timestamp can be the current time.</p>
<p>This decision freed me from working on UI-related stuff that I only vaguely enjoyed. More importantly, it unblocked the rest of the project, because it solved the problem of &ldquo;how do users input rescue parameters?&quot;&mdash;maybe not perfectly, but done is better than perfect.</p>
<p>Interestingly, this part was the easiest to <em>implement</em> once I had designed it. I had already established my core data structures and Python / JS interoperability patterns with this use case in mind. This planning made the implementation painless, and it wasn&rsquo;t subject to any of the roadblocks I had run into during previous parts.</p>
<h2 id="new-tools-and-old">New tools and old</h2>
<p>I learned about (or used for the first time) several new tools from this project, including:</p>
<ul>
<li>Tailwind CSS, which made CSS way less painful</li>
<li>PostCSS, PurgeCSS, and autoprefixer, which Tailwind made use of</li>
<li>NPM scripts, which more or less work as a Makefile for my frontend</li>
<li>Prettier, which is an autoformatter for JS code</li>
<li>live-server, which let me autoreload my app when the code changed</li>
</ul>
<p>I hadn&rsquo;t used any of these before. I was impressed by how beginner-friendly the JS ecosystem appeared to be; to an experienced data scientist, but novice front-end developer, like me, this was quite helpful.</p>
<p>I also took the opportunity to use some of my favorite Python tooling:</p>
<ul>
<li>black, for autoformatting</li>
<li>mypy, for type checking (and forcing me to write code in a cleaner, type-safe way)</li>
<li>dataclasses, which removed a ton of boilerplate around creating objects</li>
</ul>
<p>All of these have only appeared in the last couple of years, but they&rsquo;re staples of every Python project I start. I&rsquo;m grateful for such useful tooling in the Python ecosystem.</p>
<h2 id="keeping-the-python--js-interface-clean">Keeping the Python / JS interface clean</h2>
<p>Debugging the Python / JS interface was one of the most challenging parts of this project. When you call Python code from JavaScript, you are essentially <code>exec</code>ing a string of code; this means that you can&rsquo;t set breakpoints (in either language) or use the browser debugger. This essentially forced me to use print debugging.</p>
<p>Because these Python snippets were just being passed to Pyodide, none of my normal tools work. I couldn&rsquo;t format, lint, or typecheck them using black or mypy. The only way to diagnose an error was to run it.</p>
<p>The consequence of this was that I kept the Python / JS interface as simple as possible. In <code>script.js</code>, I have one function that initializes Pyodide and just three others that touch Python. These snippets make use of high-level APIs defined by Python to keep them short. Python never manipulates the DOM itself, though in principle this is possible.</p>
<p>I found this to be essential to managing the complexity of this application. Keeping the boundary between the two clear required me to clearly distinguish the tasks Python should do&mdash;validate an entered rescue password, generate a revival password from a rescue password, and generate a rescue password from some user input.</p>
<h2 id="whats-left">What&rsquo;s left?</h2>
<p>The app is at a place that I&rsquo;m satisfied with. All the core functionality is there (barring bugs, which are extremely likely), and it&rsquo;s live on my website. Anyone can rescue themselves or generate new rescue missions to go on.</p>
<p>There are few things left on my todo list, though:</p>
<ul>
<li>Generate the Pokemon being rescued randomly (right now it&rsquo;s hardcoded as <a href="https://bulbapedia.bulbagarden.net/wiki/Spheal_(Pok%C3%A9mon)">Spheal</a> because it&rsquo;s one of my favorites)</li>
<li>Test that the possible dungeons all work</li>
<li>Test it with my actual game!</li>
</ul>
<p>And a few nice-to-haves:</p>
<ul>
<li>Freeze the interface before Pyodide has loaded</li>
<li>Clean up some duplicated code in <code>script.js</code></li>
<li>Make the top Pelliper dialog box look nicer</li>
<li>Add hover effects to the submit buttons</li>
<li>Add a favicon</li>
</ul>
<p>And finally, things that I probably won&rsquo;t do, but I would if I started this over:</p>
<ul>
<li>Unit tests on the Python code&mdash;it&rsquo;s a mess and there&rsquo;s so much converting between different data formats that should really be tested</li>
<li>TypeScript&mdash;I just have never used it, and learning it for this project when I&rsquo;m <em>already</em> a JS novice would have been an additional challenge</li>
</ul>
<h2 id="the-remaining-posts">The remaining posts</h2>
<p>I have three more posts on this planned:</p>
<ul>
<li><em>Should we have done this?</em>, which will talk about the ethical implications of this work (yeah, I know how silly that sounds&mdash;it&rsquo;s a video game!&mdash;but this is actually quite personal to me)</li>
<li><em>Reflections on Pyodide</em>, which will be a high-level post discussing my experiences using Pyodide and my recommendations to future users</li>
<li><em>What I learned</em>, another high-level post about what I got out of this project</li>
</ul>
<p>For now, it&rsquo;s time to sleep. Play around at <a href="https://tusharc.dev/rescue">tusharc.dev/rescue</a>.</p>
    </div>
    <div class="article-footer">
    </div>
  </article>
</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="/papers/taking_data_out_of_context_ur.html" title="[Paper] Taking Data Out of Context to Hyper-Personalize Ads: Crowdworkers&#39; Privacy Perceptions and Decisions to Disclose Private Information"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;Older</span></a>
            </li>
            <li class="next">
                <a href="/what_i_read/20200523.html"
                    title="What I read this week (May 17 - May 23)"><span>Newer&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
        </ul>
    </div>
</nav>


</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/tuchandra" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://www.linkedin.com/in/tushar-chandra-76a623b6/" target="_blank" title="linkedin" data-toggle=tooltip data-placement=top >
            <i class="icon icon-linkedin"></i></a></li>
    <li><a href="/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    &copy; 2019 - 2020 Tushar Chandra
    <p style="margin-bottom: 4px">All opinions are my own.</p>
    <div class="publishby">
        Theme: <a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank">Hugo Pure</a>.
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js"></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>

  </body>
</html>
