<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    PMD password tool: making it all work - Tushar Chandra
    </title>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  
  <meta name="theme-color" content="#000000" />
  <meta http-equiv="window-target" content="_top" /><meta name="description" content="After clearing up unexpected challenges and removing roadblocks, all that was left was to build. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool works, which is huge! This post reflects on the last few steps of the process.
" />
  <meta name="generator" content="Hugo 0.70.0" />
  <title>PMD password tool: making it all work - Tushar Chandra</title>

  
  
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">

  <meta property="og:title" content="PMD password tool: making it all work" />
<meta property="og:description" content="After clearing up unexpected challenges and removing roadblocks, all that was left was to build. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool works, which is huge! This post reflects on the last few steps of the process." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/password_tool_5.html" />
<meta property="article:published_time" content="2020-05-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-23T00:00:00+00:00" />
<meta itemprop="name" content="PMD password tool: making it all work">
<meta itemprop="description" content="After clearing up unexpected challenges and removing roadblocks, all that was left was to build. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool works, which is huge! This post reflects on the last few steps of the process.">
<meta itemprop="datePublished" content="2020-05-23T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-05-23T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="964">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="PMD password tool: making it all work"/>
<meta name="twitter:description" content="After clearing up unexpected challenges and removing roadblocks, all that was left was to build. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool works, which is huge! This post reflects on the last few steps of the process."/>
</head>
</head>



<body class="h-screen flex flex-col justify-between" itemscope itemtype="http://schema.org/WebPage"><header class="w-screen bg-green-500" itemscope itemtype="http://schema.org/WPHeader">
  <div class="flex max-w-8xl container mx-auto">
    <div class="hidden sm:inline flex items-center">
      <a href="/">
        <img class="rounded-full m-1 md:m-4" src="/headshot.jpg" width="100" height="100">
      </a>
    </div>
    <div class="w-full px-4 flex flex-col lg:flex-row justify-between lg:items-center my-4">
      <div class="xl:flex-grow">
        <a href="/">
          <span class="text-lg sm:text-2xl md:text-3xl font-semibold">Tushar Chandra</span>
          <span class="hidden pl-4 lg:inline"><br></span>
          <span class="text-sm md:text-xl font-thin pl-4 md:pl-0 lg:text-xl">Data Scientist / Chicago, IL
          </span>
        </a>
      </div>
      <nav class="" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="flex lg:justify-between">
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/about">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-mug-hot"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">About</span>
              </a>
            </p>
          </li>
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/resume">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-file"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">Resume</span>
              </a>
            </p>
          </li>
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/reading">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-book-open"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">Reading</span>
              </a>
            </p>
          </li>
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/categories.html">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-folder-open"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">Categories</span>
              </a>
            </p>
          </li>
          <li class="flex-grow-0 inline pr-1 md:pr-2 xl:px-4">
            <p class="text-center">
              <a href="/posts.html">
                <i class="fas text-green-800 pl-1 md:px-1 text-sm md:text-xl lg:text-2xl fa-archive"></i>
                <span class="font-thin text-sm md:text-lg lg:text-2xl">Archives</span>
              </a>
            </p>
          </li>

        </ul>

      </nav>
    </div>

  </div>
</header>
  <div class="container mx-auto max-w-8xl px-4 flex flex-row flex-grow">
    <div class="w-full md:w-3/4">
      
<main class="main" role="main"><div class="content container mx-auto max-w-6xl">
  <article id="-" class="" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="pt-4">
      <span class="font-semibold text-3xl"><h1 itemprop="name">
  <a class="" href="/posts/password_tool_5.html">PMD password tool: making it all work</a>
</h1>
      </span>
      <div class="pb-4"><i class="fas fa-calendar-check text-gray-500 pr-1"></i>
<time datetime="2020-05-23 00:00:00 &#43;0000 UTC" class="text-sm text-gray-600"
  itemprop="datePublished">2020-05-23</time>
<span class="text-sm text-gray-600" itemprop="wordCount">
	<i class="fas fa-pencil-alt text-gray-500 pl-4 pr-2"></i>964 words
</span><i class="fas fa-folder-open text-gray-500 pl-4 pr-1"></i>
<a class="text-sm text-gray-600" href=" /categories/projects.html"> projects, </a>

      </div>
    </div>
    <div class="rich-text" itemprop="articleBody">
      <p>After clearing up unexpected challenges and removing roadblocks, all that was left was to <em>build</em>. A full evening of coding later, the Pokemon Mystery Dungeon rescue tool <em>works</em>, which is huge! This post reflects on the last few steps of the process.</p>
<h2 id="simplifying-the-ui">Simplifying the UI</h2>
<p>The second part of the app, which generates a custom mission for you, was the most challenging for me. I was struggling to create an interface that displayed all of the different things that made up a mission:</p>
<ul>
<li>the dungeon</li>
<li>the floor</li>
<li>the team name</li>
<li>the species of Pokemon that fainted, and its gender</li>
<li>the reward type (&ldquo;regular&rdquo;, &ldquo;special&rdquo;, or &ldquo;deluxe&rdquo;)</li>
<li>the timestamp</li>
<li>a couple other flags that&mdash;legitimately&mdash;no one understands</li>
</ul>
<p>I eventually realized that the only features that really mattered were the dungeon and floor. Everything else was cosmetic&mdash;the Pokemon you were rescuing and team name for the rescue didn&rsquo;t change the mechanics of the mission. The Deluxe rewards were a superset of the other two rewards, so there&rsquo;s no reason anyone would want Regular or Special.</p>
<p>I decided to simplify things by only having users select the dungeon and floor, and making the team name optional. The Pokemon will be selected randomly, and the mission will always give a Deluxe reward. The timestamp can be the current time.</p>
<p>This decision freed me from working on UI-related stuff that I only vaguely enjoyed. More importantly, it unblocked the rest of the project, because it solved the problem of &ldquo;how do users input rescue parameters?&quot;&mdash;maybe not perfectly, but done is better than perfect.</p>
<p>Interestingly, this part was the easiest to <em>implement</em> once I had designed it. I had already established my core data structures and Python / JS interoperability patterns with this use case in mind. This planning made the implementation painless, and it wasn&rsquo;t subject to any of the roadblocks I had run into during previous parts.</p>
<h2 id="new-tools-and-old">New tools and old</h2>
<p>I learned about (or used for the first time) several new tools from this project, including:</p>
<ul>
<li>Tailwind CSS, which made CSS way less painful</li>
<li>PostCSS, PurgeCSS, and autoprefixer, which Tailwind made use of</li>
<li>NPM scripts, which more or less work as a Makefile for my frontend</li>
<li>Prettier, which is an autoformatter for JS code</li>
<li>live-server, which let me autoreload my app when the code changed</li>
</ul>
<p>I hadn&rsquo;t used any of these before. I was impressed by how beginner-friendly the JS ecosystem appeared to be; to an experienced data scientist, but novice front-end developer, like me, this was quite helpful.</p>
<p>I also took the opportunity to use some of my favorite Python tooling:</p>
<ul>
<li>black, for autoformatting</li>
<li>mypy, for type checking (and forcing me to write code in a cleaner, type-safe way)</li>
<li>dataclasses, which removed a ton of boilerplate around creating objects</li>
</ul>
<p>All of these have only appeared in the last couple of years, but they&rsquo;re staples of every Python project I start. I&rsquo;m grateful for such useful tooling in the Python ecosystem.</p>
<h2 id="keeping-the-python--js-interface-clean">Keeping the Python / JS interface clean</h2>
<p>Debugging the Python / JS interface was one of the most challenging parts of this project. When you call Python code from JavaScript, you are essentially <code>exec</code>ing a string of code; this means that you can&rsquo;t set breakpoints (in either language) or use the browser debugger. This essentially forced me to use print debugging.</p>
<p>Because these Python snippets were just being passed to Pyodide, none of my normal tools work. I couldn&rsquo;t format, lint, or typecheck them using black or mypy. The only way to diagnose an error was to run it.</p>
<p>The consequence of this was that I kept the Python / JS interface as simple as possible. In <code>script.js</code>, I have one function that initializes Pyodide and just three others that touch Python. These snippets make use of high-level APIs defined by Python to keep them short. Python never manipulates the DOM itself, though in principle this is possible.</p>
<p>I found this to be essential to managing the complexity of this application. Keeping the boundary between the two clear required me to clearly distinguish the tasks Python should do&mdash;validate an entered rescue password, generate a revival password from a rescue password, and generate a rescue password from some user input.</p>
<h2 id="whats-left">What&rsquo;s left?</h2>
<p>The app is at a place that I&rsquo;m satisfied with. All the core functionality is there (barring bugs, which are extremely likely), and it&rsquo;s live on my website. Anyone can rescue themselves or generate new rescue missions to go on.</p>
<p>There are few things left on my todo list, though:</p>
<ul>
<li>Generate the Pokemon being rescued randomly (right now it&rsquo;s hardcoded as <a href="https://bulbapedia.bulbagarden.net/wiki/Spheal_(Pok%C3%A9mon)">Spheal</a> because it&rsquo;s one of my favorites)</li>
<li>Test that the possible dungeons all work</li>
<li>Test it with my actual game!</li>
</ul>
<p>And a few nice-to-haves:</p>
<ul>
<li>Freeze the interface before Pyodide has loaded</li>
<li>Clean up some duplicated code in <code>script.js</code></li>
<li>Make the top Pelliper dialog box look nicer</li>
<li>Add hover effects to the submit buttons</li>
<li>Add a favicon</li>
</ul>
<p>And finally, things that I probably won&rsquo;t do, but I would if I started this over:</p>
<ul>
<li>Unit tests on the Python code&mdash;it&rsquo;s a mess and there&rsquo;s so much converting between different data formats that should really be tested</li>
<li>TypeScript&mdash;I just have never used it, and learning it for this project when I&rsquo;m <em>already</em> a JS novice would have been an additional challenge</li>
</ul>
<h2 id="the-remaining-posts">The remaining posts</h2>
<p>I have three more posts on this planned:</p>
<ul>
<li><em>Should we have done this?</em>, which will talk about the ethical implications of this work (yeah, I know how silly that sounds&mdash;it&rsquo;s a video game!&mdash;but this is actually quite personal to me)</li>
<li><em>Reflections on Pyodide</em>, which will be a high-level post discussing my experiences using Pyodide and my recommendations to future users</li>
<li><em>What I learned</em>, another high-level post about what I got out of this project</li>
</ul>
<p>For now, it&rsquo;s time to sleep. Play around at <a href="https://tusharc.dev/rescue">tusharc.dev/rescue</a>.</p>
      <p><i class="fas fa-square font-green-800"></i></p>
    </div>
    <div class="font-semibold text-green-800 pt-4">
      <a href="/"><i class="fas fa-arrow-left"></i> Return home</a>
    </div>
  </article>
</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="/what_i_read/20200523.html" title="What I read this week (May 17 - May 23)"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;</span></a>
            </li>
            <li class="next">
                <a href="/posts/sudoku_bookmarklet.html"
                    title="Bookmarklet for SudokuExchange"><span>&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
        </ul>
    </div>
</nav>

</main>
    </div>
    <div class="hidden w-0 md:block md:w-1/4 md:pt-8 md:pl-12"><aside class="" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="pb-8">
    <h3 class="font-semibold text-xl">Categories</h3>
    <ul class="">
        <li class="">+ <a href="/categories/books.html" class="font-bold text-green-900">books
            </a><span class="">11</span>
        </li>
        <li class="">+ <a href="/categories/chi2020.html" class="font-bold text-green-900">chi2020
            </a><span class="">19</span>
        </li>
        <li class="">+ <a href="/categories/general.html" class="font-bold text-green-900">general
            </a><span class="">34</span>
        </li>
        <li class="">+ <a href="/categories/papers.html" class="font-bold text-green-900">papers
            </a><span class="">48</span>
        </li>
        <li class="">+ <a href="/categories/projects.html" class="font-bold text-green-900">projects
            </a><span class="">7</span>
        </li>
        <li class="">+ <a href="/categories/self.html" class="font-bold text-green-900">self
            </a><span class="">3</span>
        </li>
        <li class="">+ <a href="/categories/spark.html" class="font-bold text-green-900">spark
            </a><span class="">34</span>
        </li>
        <li class="">+ <a href="/categories/what-i-read.html" class="font-bold text-green-900">what-i-read
            </a><span class="">32</span>
        </li>
    </ul>
</div>
<div class="pb-12">
    <h3 class="font-semibold text-xl">Recent Posts</h3>
    <ul class="recent-post-list list-unstyled no-thumbnail">
        <li class="pb-4">
            <p>
                <a href="/papers/icml_workshop_papers.html" class="font-bold text-green-900">[Papers] Two recommender systems papers from the ICML Participatory Approaches to ML workshop</a>
                <time datetime="2020-07-20 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-20
                </time>
            </p>

        </li>
        <li class="pb-4">
            <p>
                <a href="/papers/aligning_recommender_human_values_stray.html" class="font-bold text-green-900">[Paper] What are you optimizing for? Aligning Recommender Systems with Human Values</a>
                <time datetime="2020-07-19 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-19
                </time>
            </p>

        </li>
        <li class="pb-4">
            <p>
                <a href="/what_i_read/20200718.html" class="font-bold text-green-900">What I read this week (July 12 - July 18)</a>
                <time datetime="2020-07-18 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-18
                </time>
            </p>

        </li>
        <li class="pb-4">
            <p>
                <a href="/books/twenty_six_words_4.html" class="font-bold text-green-900">The future of Section 230</a>
                <time datetime="2020-07-17 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-17
                </time>
            </p>

        </li>
        <li class="pb-4">
            <p>
                <a href="/books/twenty_six_words_3.html" class="font-bold text-green-900">Internet Exceptionalism</a>
                <time datetime="2020-07-16 00:00:00 &#43;0000 UTC" itemprop="datePublished" class="text-gray-600 text-sm">2020-07-16
                </time>
            </p>

        </li>
    </ul>
</div>
</aside><footer class="" itemscope itemtype="http://schema.org/WPFooter">
  <div class="py-4 text-sm">
    &copy; 2019 - 2020 Tushar Chandra
    <p style="margin-bottom: 4px">All opinions are my own.</p>
    <div class="publishby">Powered by Hugo with a custom theme.</div>
  </div>
  <ul class="">
    <li class="inline text-xl pr-4">
      <a href="https://github.com/tuchandra" target="_blank" title="github">
        <i class="fab fa-github"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="https://www.linkedin.com/in/tushar-chandra-76a623b6/" target="_blank" title="linkedin">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="mailto:me@tusharc.dev" target="_blank" title="envelope">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="/index.xml" target="_blank" title="rss">
        <i class="fas fa-rss"></i>
      </a>
    </li>

  </ul>
</footer>
    </div>
  </div>
  <div class="mx-auto w-screen px-4 bg-green-500 mt-4 md:py-8">
    <div class="md:invisible md:hidden max-w-8xl"><footer class="" itemscope itemtype="http://schema.org/WPFooter">
  <div class="py-4 text-sm">
    &copy; 2019 - 2020 Tushar Chandra
    <p style="margin-bottom: 4px">All opinions are my own.</p>
    <div class="publishby">Powered by Hugo with a custom theme.</div>
  </div>
  <ul class="">
    <li class="inline text-xl pr-4">
      <a href="https://github.com/tuchandra" target="_blank" title="github">
        <i class="fab fa-github"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="https://www.linkedin.com/in/tushar-chandra-76a623b6/" target="_blank" title="linkedin">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="mailto:me@tusharc.dev" target="_blank" title="envelope">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
    <li class="inline text-xl pr-4">
      <a href="/index.xml" target="_blank" title="rss">
        <i class="fas fa-rss"></i>
      </a>
    </li>

  </ul>
</footer>
    </div>
  </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/python.min.js"></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>


<script data-goatcounter="https://tusharc.goatcounter.com/count" async src="//gc.zgo.at/count.js">
</script>
</body>

</html>